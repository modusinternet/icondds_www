navActiveArray.forEach(function(b){$("#"+b).addClass("active")}),$(window).scroll(function(){var b=$(window).scrollTop();50<=b?($("header").addClass("header-scroll"),$("#logo1").attr("style","opacity:0"),$("#logo2").attr("style","opacity:1"),$("header div button").addClass("header-div-button-scroll"),$(".scrollToTopButton").addClass("scrollToTopButton-active")):($("header").removeClass("header-scroll"),$("#logo1").attr("style","opacity:1"),$("#logo2").attr("style","opacity:0"),$("header div button").removeClass("header-div-button-scroll"),$(".scrollToTopButton").removeClass("scrollToTopButton-active")),450<=b?$(".toggle").addClass("toggle-scroll-dropshadow"):$(".toggle").removeClass("toggle-scroll-dropshadow")}),!function(b,d){var f={init:function(g,h){var j=this;j.options=b.extend({},b.fn.nav.options,g),j.$body=b("body"),j.$nav=b(h),j.$menuButton=b(j.options.navButton),j.$subMenu=b(j.options.subMenu),j.subMenu=j.options.subMenu,j.mobileMode=j.isCurrentlyMobile(j),j.mouseOver=j.options.mouseOver,j.disableSubMenuLink=j.options.disableSubMenuLink,j.slideSpeed=j.options.slideSpeed,j.collapseSubMenus(j),j.bindEvents(j)},bindEvents:function(g){g.$menuButton.on("click",function(h){g.toggleNav(g),h.preventDefault()}),g.$nav.on("click",g.subMenu+" > a",function(h){var j=b(this);g.isSubMenuLinkDisabled(g,j)&&(g.toggleSubMenu(g,j.parent()),h.preventDefault())}),1==g.mouseOver&&(g.$nav.on("mouseenter",g.subMenu,function(){0==g.mobileMode&&g.openSubMenu(g,b(this))}),g.$nav.on("mouseleave",g.subMenu,function(){0==g.mobileMode&&g.closeSubMenu(g,b(this))})),b(d).on("resize",function(){g.resetNav(g)})},isSubMenuLinkDisabled:function(g,h){return"always"==g.disableSubMenuLink||"#"==h.attr("href")||"mobile"==g.disableSubMenuLink&&1==g.mobileMode||"desktop"==g.disableSubMenuLink&&0==g.mobileMode},toggleNav:function(g){g.$nav.stop().clearQueue().slideToggle(g.slideSpeed,function(){var h=b(this);h.is(":hidden")?(g.collapseSubMenus(g),b(this).attr("style","display: none;")):b(this).attr("style","display: block;")}),g.$body.toggleClass("nav-lock-scroll")},toggleSubMenu:function(g,h){h.hasClass("nav-active")?g.closeSubMenu(g,h):g.openSubMenu(g,h)},openSubMenu:function(g,h){h.addClass("nav-active").children("ul").stop().clearQueue().slideDown(g.slideSpeed,function(){b(this).attr("style","display: block;")}),h.siblings(g.subMenu).removeClass("nav-active").children("ul").slideUp(g.slideSpeed,function(){b(this).clearQueue()}).find(".nav-active").removeClass("nav-active").children("ul").slideUp(g.slideSpeed,function(){b(this).clearQueue()})},closeSubMenu:function(g,h){h.removeClass("nav-active").children("ul").stop().clearQueue().slideUp(g.slideSpeed,function(){b(this).attr("style","display: none;")}).find(".nav-active").removeClass("nav-active").children("ul").slideUp(g.slideSpeed,function(){b(this).clearQueue()})},resetNav:function(g){var h=g.isCurrentlyMobile(g);g.mobileMode!==h&&(g.$nav.removeAttr("style").find("ul").removeAttr("style"),g.$body.removeClass("nav-lock-scroll"),g.collapseSubMenus(g),g.mobileMode=h)},collapseSubMenus:function(g){g.$subMenu.removeClass("nav-active").children("ul").hide()},isCurrentlyMobile:function(g){return g.$menuButton.is(":visible")}};b.fn.nav=function(g){return this.each(function(){var h=Object.create(f);h.init(g,this)})},b.fn.nav.options={navButton:".toggle",subMenu:".submenu",mouseOver:!0,disableSubMenuLink:"always",slideSpeed:300}}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(b){function d(){}return d.prototype=b,new d}),$("nav").nav(),window.setTimeout(function(){document.getElementById("loading_svg").style.opacity="0",window.setTimeout(function(){document.getElementById("loading_svg").style.display="none"},2e3)},500),window.setTimeout(function(){document.getElementsByTagName("header")[0].style.opacity="1"},500);var msgContainer=document.getElementById("msg"),svgButton=document.getElementById("msg-svg-fill");function msg_show(){svgButton.classList.add("hide"),msgContainer.classList.remove("hide")}function msg_hide(){svgButton.classList.remove("hide"),msgContainer.classList.add("hide")}document.addEventListener("click",function(b){msgContainer===b.target||svgButton===b.target||msgContainer.contains(b.target)||(svgButton.classList.remove("hide"),msgContainer.classList.add("hide"))}),$.validator.addMethod("badCharRegex",function(b,d,f){var g=new RegExp(f);return this.optional(d)||g.test(b)},"Please check your input."),$("#msgForm").validate({rules:{msgName:{required:!0,minlength:2,maxlength:32,badCharRegex:/^[^\<\>&#]+$/i},msgEmail:{required:!0,email:!0,maxlength:256},msgTextarea:{required:!0,maxlength:512,badCharRegex:/^[^\<\>&#]+$/i}},messages:{msgName:{required:"Please enter your full name.",minlength:"This field must be between 2 to 32 characters.",maxlength:"This field must be between 2 to 32 characters.",badCharRegex:"The following characters are not permited in this form. ( > < & # ) Please remove before submitting."},msgEmail:{required:"Please enter a valid email address.",maxlength:"Please try to keep your email address to 256 characters or less."},msgTextarea:{required:"Please include a short message indicating how we can help you.",maxlength:"Please try to keep your messages to 512 characters or less.",badCharRegex:"The following characters are not permited in this form. ( > < & # ) Please remove before submitting."}},errorPlacement:function(b,d){var f=d.attr("name");$("#error-"+f).append(b)},submitHandler:function(b){var d;d&&d.abort();var f=$(b).find("input,select,textarea,button"),g=$(b).serialize();return f.prop("disabled",!0),d=$.ajax({beforeSend:function(){$("#msgForm .has-error").removeClass("has-error"),$("#msgForm .help-block").html("").hide(),$("#msgFormMessage").removeClass("alert-success").html("")},cache:!1,data:g,dataType:"json",type:"post",url:"/{CCMS_LIB:_default.php;FUNC:ccms_lng}/msgForm-ajax.html"}),d.done(function(h){h.error&&(h.error.msgName&&($("#msgName").parent().addClass("has-error"),$("#error-msgName").html(h.error.msgName).slideDown()),h.error.msgEmail&&($("#msgEmail").parent().addClass("has-error"),$("#error-msgEmail").html(h.error.msgEmail).slideDown()),h.error.msgTextarea&&($("#msgTextarea").parent().addClass("has-error"),$("#error-msgTextarea").html(h.error.msgTextarea).slideDown()),f.prop("disabled",!1)),h.success&&($("#msgFormMessage").addClass("alert-success").html(h.success).slideDown(),setTimeout(function(){$("#msgFormMessage").slideUp("fast",function(){$(this).removeClass("alert-success").html("")})},5e3),$("#msgForm").find(".form-control").val(""),setTimeout(function(){f.prop("disabled",!1)},2e3))}),d.fail(function(h,j,k){$("#msgForm").html("The following error occurred: "+j,k)}),d.always(function(){setTimeout(function(){f.prop("disabled",!1)},5e3)}),!1}});function getCookie(b){for(var j,d=b+"=",f=decodeURIComponent(document.cookie),g=f.split(";"),h=0;h<g.length;h++){for(j=g[h];" "==j.charAt(0);)j=j.substring(1);if(0==j.indexOf(d))return j.substring(d.length,j.length)}return""}let a2Cookie,deferredPrompt;const A2HSbox=document.getElementById("A2HS-box"),A2HSbox_no=document.getElementById("A2HS-box-no"),A2HSbox_yes=document.getElementById("A2HS-box-yes");window.addEventListener("beforeinstallprompt",b=>{a2Cookie=getCookie("A2HSbox"),""==a2Cookie&&(console.log("A2HSbox cookie not found and \"beforeinstallprompt\" event detected, dropping A2HS box."),b.preventDefault(),deferredPrompt=b,A2HSbox.classList.add("active"),A2HSbox_no.addEventListener("click",()=>{console.log("User dismissed A2HS prompt #1."),A2HSbox.classList.remove("active"),document.cookie="A2HSbox=1; max-age=15768000; path=/",deferredPrompt=null}),A2HSbox_yes.addEventListener("click",()=>{console.log("User accepted A2HS prompt #1."),A2HSbox.classList.remove("active"),deferredPrompt.prompt(),deferredPrompt.userChoice.then(f=>{"accepted"===f.outcome?console.log("User accepted A2HS prompt #2."):(console.log("User dismissed A2HS prompt #2."),document.cookie="A2HSbox=1; max-age=15768000; path=/"),deferredPrompt=null})}))});
