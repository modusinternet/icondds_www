<!DOCTYPE HTML>
<html>

<head>
    <title>Lozad.js: Highly performant lazy loader</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/ccmstpl/test/assets/css/main.css" />
</head>

<body>
    <!-- Wrapper -->
    <div id="wrapper">
        <!-- Header -->
        <header id="header">
            <h1><a href="https://github.com/ApoorvSaxena/lozad.js"><strong>Lozad.js</strong></a></h1>
        </header>
        <!-- Main -->
        <div id="main">
            <article class="main-heading">
                <h1>Lozad.js - Performant Lazy Loading Library</h1>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/01.jpg" data-index="1" />
                <noscript><img src="/ccmstpl/test/images/thumbs/01.jpg" data-index="1" /></noscript>
                    <h2>Image 1</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/02.jpg" data-index="2" />
                <noscript><img src="/ccmstpl/test/images/thumbs/02.jpg" data-index="2" /></noscript>
                    <h2>Image 2</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/03.jpg" data-index="3" />
                <noscript><img src="/ccmstpl/test/images/thumbs/03.jpg" data-index="3" /></noscript>
                    <h2>Image 3</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/04.jpg" data-index="4" />
                <noscript><img src="/ccmstpl/test/images/thumbs/04.jpg" data-index="4" /></noscript>
                    <h2>Image 4</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/05.jpg" data-index="5" />
                <noscript><img src="/ccmstpl/test/images/thumbs/05.jpg" data-index="5" /></noscript>
                    <h2>Image 5</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/06.jpg" data-index="6" />
                <noscript><img src="/ccmstpl/test/images/thumbs/06.jpg" data-index="6" /></noscript>
                    <h2>Image 6</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/07.jpg" data-index="7" />
                <noscript><img src="/ccmstpl/test/images/thumbs/07.jpg" data-index="7" /></noscript>
                    <h2>Image 7</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/08.jpg" data-index="8" />
                <noscript><img src="/ccmstpl/test/images/thumbs/08.jpg" data-index="8" /></noscript>
                    <h2>Image 8</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/09.jpg" data-index="9" />
                <noscript><img src="/ccmstpl/test/images/thumbs/09.jpg" data-index="9" /></noscript>
                    <h2>Image 9</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/10.jpg" data-index="10" />
                <noscript><img src="/ccmstpl/test/images/thumbs/10.jpg" data-index="10" /></noscript>
                    <h2>Image 10</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/11.jpg" data-index="11" />
                <noscript><img src="/ccmstpl/test/images/thumbs/11.jpg" data-index="11" /></noscript>
                    <h2>Image 11</h2>
            </article>
            <article class="thumb">
                <img class="lozad" data-src="/ccmstpl/test/images/thumbs/12.jpg" data-index="12" />
                <noscript><img src="/ccmstpl/test/images/thumbs/12.jpg" data-index="12" /></noscript>
                    <h2>Image 12</h2>
            </article>
        </div>
        <!-- <picture> example -->
        <!-- SubMain -->
        <div class="sub-main">
            <article class="main-heading">
                <h1>&lt;picture> example</h1>
                <p style="font-size: 75%"><em>* You can open your network section in dev tools, for see how images are loading</em></p>
            </article>
        </div>
        <!-- Pictures -->
        <div id="pictures">
            <article class="screen">
                <div class="picture">
                    <picture class="lozad-picture" style="display: block; min-height: 1rem;" data-iesrc="/ccmstpl/test/images/thumbs/picture-01.jpg">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-01.jpg" media="(min-width: 1280px)">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-02.jpg" media="(min-width: 980px)">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-03.jpg" media="(min-width: 320px)">
                        <noscript><img src="/ccmstpl/test/images/thumbs/picture-01.jpg"></noscript>
                    </picture>
                    <h2>Example 1</h2>
                    <pre>
picture-01.jpg media="(min-width: 1280px)"
picture-02.jpg media="(min-width: 980px)"
picture-03.jpg media="(min-width: 320px)"
                    </pre>
                </div>
            </article>
            <article class="screen">
                <div class="picture">
                    <picture class="lozad-picture" style="display: block; min-height: 1rem;" data-iesrc="/ccmstpl/test/images/thumbs/picture-04.jpg">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-04.jpg" media="(min-width: 1280px)">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-05.jpg" media="(min-width: 980px)">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-06.jpg" media="(min-width: 320px)">
                        <noscript><img src="/ccmstpl/test/images/thumbs/picture-04.jpg"></noscript>
                    </picture>
                    <h2>Example 2</h2>
                    <pre>
picture-04.jpg media="(min-width: 1280px)"
picture-05.jpg media="(min-width: 980px)"
picture-06.jpg media="(min-width: 320px)"
                    </pre>
                </div>
            </article>
            <article class="screen">
                <div class="picture">
                    <picture class="lozad-picture" style="display: block; min-height: 1rem;" data-iesrc="/ccmstpl/test/images/thumbs/picture-07.jpg">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-07.jpg" media="(min-width: 1280px)">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-08.jpg" media="(min-width: 980px)">
                        <source srcset="/ccmstpl/test/images/thumbs/picture-09.jpg" media="(min-width: 320px)">
                        <noscript><img src="/ccmstpl/test/images/thumbs/picture-07.jpg"></noscript>
                    </picture>
                    <h2>Example 3</h2>
                    <pre>
picture-07.jpg media="(min-width: 1280px)"
picture-08.jpg media="(min-width: 980px)"
picture-09.jpg media="(min-width: 320px)"
                    </pre>
                </div>
            </article>
        </div>
    </div>

    <!-- <background> example -->
        <!-- SubMain -->
        <div class="sub-main">
            <article class="main-heading">
                <h1>&lt;background> example</h1>
                <p style="font-size: 75%"><em>* You can open your network section in dev tools, for see how background-images are loading</em></p>
            </article>
        </div>
        <!-- Backgrounds -->
        <div id="backgrounds">
            <article class="screen">
                <div class="background">
                    <div class="lozad-background" data-background-image="/ccmstpl/test/images/backgrounds/background-single.jpg">
                    </div>
                    <h2>Example 1</h2>
                    <pre>
Single Background Image
                    </pre>
                </div>
            </article>
            <article class="screen">
                <div class="background">
                    <div class="lozad-background" data-background-image="/ccmstpl/test/images/backgrounds/background-multiple-1.png,/ccmstpl/test/images/backgrounds/background-multiple-2.png,/ccmstpl/test/images/backgrounds/background-multiple-3.png">
                    </div>
                    <h2>Example 2</h2>
                    <pre>
Multiple Background Images
Check the console to see that these are indeed separate images.
                    </pre>
                </div>
            </article>
            <article class="screen">
                <div class="background">
                    <div class="lozad-background" data-background-image="/ccmstpl/test/images/backgrounds/background-multiple-fail.png,/ccmstpl/test/images/backgrounds/background-multiple-fallback.png">
                    </div>
                    <h2>Example 3</h2>
                    <pre>
Multiple Background Images
Fallback Method ( where the first / foremost image fails )
Check the console to see that the first image is failed to load.
                    </pre>
                </div>
            </article>
            <article class="screen">
                <div class="background">
                    <div class="lozad-background" data-background-image-set="url('/ccmstpl/test/images/responsive/photo.jpg') 1x, url('/ccmstpl/test/images/responsive/photo@2x.jpg') 2x, url('/ccmstpl/test/images/responsive/photo@3x.jpg') 3x">
                    </div>
                    <h2>Example 4</h2>
                    <pre>
Responsive Background Images set
Change a device pixel ratio with devtools and check the console to see which image dimension was loaded
                    </pre>
                </div>
            </article>

        </div>
    </div>

    <!-- <iframe> example -->
    <div class="sub-main">
        <article class="main-heading">
            <h1>&lt;iframe> example</h1>
        </article>
    </div>
    <div id="iframe">
        <article class="frame">
            <iframe width="560" height="315" data-src="https://www.youtube.com/embed/Rt0oX-4Hbxc" class="lozad" frameborder="0" allowfullscreen data-index="1"></iframe>
        </article>
    </div>
    <!-- <video> example -->
    <div class="sub-main">
      <article class="main-heading">
        <h1>&lt;video> example</h1>
        <p>video courtesy of Big Buck Bunny.</p>
      </article>
    </div>
    <div id="video">
      <article class="frame">
          <div class="video-example video-example-2">
            <video width="560" height="315" controls loop muted class="lozad-picture">
              <source data-src="/ccmstpl/test/video/mov_bbb.mp4" type="video/mp4">
              <source data-src="/ccmstpl/test/video/mov_bbb.ogg" type="video/ogg">
            </video>
            <pre>normal video example</pre>
          </div>
      </article>
    </div>

    <!-- Toastr resources for Notifications -->
    <script src="/ccmstpl/test/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <!-- Toastr resources -->
    <!-- IntersectionObserver Polyfill -->
    <script src="https://rawgit.com/w3c/IntersectionObserver/master/polyfill/intersection-observer.js"></script>
    <!-- IntersectionObserver Polyfill -->
    <script src="ccmstpl/test/dist/lozad.min.js"></script>
    <script type="text/javascript">
    toastr.options = {
        "progressBar": true,
        "timeOut": "1500"
    }
    // Initialize library to lazy load images
    var observer = lozad('.lozad', {
        threshold: 0.1,
        load: function(el) {
            el.src = el.getAttribute("data-src");
            el.onload = function() {
                toastr["success"](el.localName.toUpperCase() + " " + el.getAttribute("data-index") + " lazy loaded.")
            }
        }
    })

    // Picture observer
    // with default `load` method
    var pictureObserver = lozad('.lozad-picture', {
        threshold: 0.1
    })

    // Background observer
    // with default `load` method
    var backgroundObserver = lozad('.lozad-background', {
        threshold: 0.1
    })

    observer.observe()
    pictureObserver.observe()
    backgroundObserver.observe()

    </script>
</body>

</html>
